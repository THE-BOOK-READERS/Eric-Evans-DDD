# 🎯 06장. 도메인 객체의 생명주기
- 모든 객체에는 생명주기가 있다. 한 객체는 생성되어, 다양한 상태를 거친 후, 결국 DB 같은 곳에 저장되거나 삭제되면서 소멸한다.
- 도메인 객체의 관리와 관련된 문제는 아래의 2가지 범주로 나뉜다.
  
  #### 문제 1. 생명주기 동안의 무결성 유지하기
  #### 문제 2. 생명주기 관리의 복잡성으로 모델이 난해해지는 것을 방지하기

- 위의 문제를 3가지 패턴을 이용해서 해결한다.
  #### 해결 1. Aggregate
  - Aggregate은 소유권과 경계를 명확히 정의함으로써, 모델을 엄격하게 만들어, 객체 간의 연관관계가 혼란스럽게 얽히지 않게 한다.
  - 이 패턴은 생명주기상의 `전 단계`에 걸쳐, 도메인 객체의 `무결성`을 유지하는 데 매우 중요하다.
  #### 해결 2. Factory
  - Factory는 생명주기의 `초기 단계`에 관련된 것으로, 복잡한 객체와 Aggregate을 생성하고 재구성함으로써 그것들의 내부 구조를 캡슐화하는 것과 관련이 있다.  
  #### 해결 3. Repository
  - Repository는 생명주기의 `중간`과 `마지막`을 다루며, 거대한 관련 인프라스트럭처를 캡슐화하면서 영속 객체를 찾아 조회하는 수단을 제공한다.

> Aggregate를 모델링하고, 설계에 Factory와 Repository를 추가하면, 모델 객체의 생명주기 동안 그것들을 체계적이고 의미 있는 단위로 조작할 수 있다. <br>
> Factory와 Repository가 도메인에서 나오는 것은 아니지만, 모델 객체에 쉽게 접근하는 수단을 제공해 Model Driven Design을 완성함으로, 도메인 설계에서 중요한 역할을 담당한다. <br>
> Aggregate는 생명주기의 전 단계에서 불변식이 유지되어야 할 범위를 표시해주고, Factory와 Repository는 Aggregate을 대상으로 연산을 수행하며 특정 생명주기로 옮겨가는 데 따르는 복잡성을 캡슐화한다.


## 🎈 Aggregate(집합체)




## 🎈 Factory (팩터리)
### 🍋 Factory와 Factory의 위치 선정
### 🍋 생성자만으로 충분한 경우
### 🍋 인터페이스 설계
### 🍋 불변식 로직의 위치
### 🍋 Entity Factory와 Value Object Factory
### 🍋 저장된 객체의 재구성

## 🎈 Repository (리파지터리)
### 🍋 Repository에 질의하기
### 🍋 클라이언트 코드가 Repository 구현을 무시한다. (개발자는 그렇지 않지만)
### 🍋 Repository 구현
### 🍋 프레임워크의 활용
### 🍋 Factory와의 관계

## 🎈 관계형 데이터베이스를 위한 객체 설계

