# 05장 소프트웨어에서 표현되는 모델 - 개요

도메인 주도 개발 책에 대한 정리를 앞 장을 뛰어넘어 **구현에 관해서** 먼저 소개하는 것이 이해에 도움이 될지 고민이 되지만

하지만 오히려 구현을 먼저해보고 이론을 정립해나가는 것이 소프트웨어이 발전해온 과정이라고 널리 알려져있습니다.

그러한 관점에서부터 손에 잡히는 DDD의 실질적인 기본 요소들을 한 번 알아보겠습니다.

이번 글에서는 DDD의 기본 요소인 ENTITY(엔티티)와 연관관계에 대해 알아보겠습니다.

> 도메인을 담은 객체를 정의하는 일은 겉으로는 매우 쉬워보여도 의미상 미묘한 차이로 발생할 수 있는 중대한 문제가 잠재돼 있다. - p83

"도메인을 담은 객체를 정의" 가 우리가 도메인 주도 개발을 하면서 가장 많이 고민하고 실질적으로 수행하는 가장 중요한 일입니다.

# "도메인을 담은 객체를 정의하다."

책(84p)에서 저희가 도메인주도개발을 실질적인 개발을 시작할 때 기억해보고 되새겨볼만한 질문들이 많이 있습니다. 기억해봅시다.

**어떤 객체가 연속성과 식별성을 지닌 것을 의미하는가? 아니면 다른 뭔가의 상태를 기술하는 속성에 불과한가?**

이에 대한 구체적인 대답은 ENTITY를 탐구해볼 때 다시 들여다 보겠습니다. 하지만 여기서 연속성과 식별성, 그리고 "상태를 기술하는 속성"이 무엇인지 프로그래밍 개발 경험에 있어서 무엇이 있었는지 기억해보면 좋은 시간일 것 같습니다.

- 연속성("continuity")
- 식별성("identity", 각종 상태를 바탕으로 추적되거나 서로 다른 구현에 걸쳐 존재하는 것)
- 상태를 기술하는 속성

위 내용은 앞으로 계속해서 이해하고 학습할 ENTITY와 VALUE OBJECT를 나누는 기준이 됩니다.

## 행동(action)이나 연산(operation)을 표현하는 것 - "Service"

Service에 대한 정의는 아래와 같습니다.

- 전통적인 객체지향 모델링에서 다소 벗어나지만 어떤 연상의 책임을 특정 ENTITY에 맡기기보다는 SERVICE으로 표현하는 편이 나을 때가 있습니다.

- "클라이언트 요청에 대해 수행되는 뭔가"를 의미합니다.

- 소프트웨어에서 수행해야하는 것지만 상태를 주고받지않는 활동을 모델링하는 경우가 이에 해당합니다.

## 모듈(MODULE)에 관한 설계 관련 의사결정은 도메인에 부여된 통찰력을 바탕으로 이뤄져야한다.

모듈은 높은 응집도(cohesion)과 낮은 결합도(low coupling)라는 개념은 **도메인 개념에도 적용할 수 있다.**

중요한 것은 소프트웨어의 모듈을 구성할 때 조차 도메인 개념을 반영해야한다는 것 입니다.

# 절충안

여기서 가볍게 언급한 ENTITY, VALUE OBJECT, MODULE, SERVICE 와 같은 개념은 관례적입니다.

이러한 개념을 따르는 모델링 및 설계 경향에 대해서는 지속적으로 이어져왔습니다.

> 큰 모델과 설계 문제를 다룰 때 개발자들이 도메인 주도 설계의 우선 순위에 부합하는 세부 구성 요소를 만드는 데 도움 될 것입니다. 기본 원칙을 이해해두면 개발자들이 어쩔 수 없이 택하는 절출안을 올바른 방향으로 나아가는데 도움을 줄 것입니다. - 84p

위처럼 기본 구성요소 학습에 대한 동기부여를 줍니다. 항상 소프트웨어 프로젝트는 급격하게 변하는 요구사항에 발 맞추어 절충안을 찾아야하는 시련을 줍니다. 올바른 절충안을 위해서 기본적인 원칙을 이해하는 것이 중요합니다.
